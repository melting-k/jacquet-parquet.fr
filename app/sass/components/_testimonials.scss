@use 'utilities' as *;

.c-testimonials {
    @include position(relative,5);
    overflow:hidden;
    background:$light; 
    padding:60px 0;

    &_bar {
        grid-column: span 12;
        border-top:solid 2px $white;
        margin-bottom:60px;

        @media (min-width:$screen-sm) {
            grid-row: 1;
        }
    }

    &_title {
        @extend %u-title--small;
        grid-column: span 12;
        color:$dark;
        @include position(relative,5);

        @media (min-width:$screen-sm) {
            grid-column: span 5;
            grid-row: 2;
        }

        @media (min-width:$screen-md) {
            grid-column: span 3;
        }
    }

    &_nav {
        grid-column: span 12;
        @include flex(flex,center,flex-start);
        gap:10px;
        margin-top:30px;
        @include position(relative,5);

        &_button {
            @extend .u-button--round;
            transform:rotate(180deg);

            &+& {
                transform: none;
            }

            &.disabled {
                opacity:.5;
            }
        }

        @media (min-width:$screen-sm) {
            grid-column: span 5;
            grid-row: 3;
            align-self:end;
        }

        @media (min-width:$screen-md) {
            grid-column: span 3;
        }
    }

    &_slideshow_wrapper {
        grid-column: span 12;
        @include position(relative,1);
        margin-top:60px;

        @media (min-width:$screen-sm) {
            grid-column: span 7;
            grid-row: 2 / 4;
            align-self: end;
            margin-top: 0;
        }

        @media (min-width:$screen-md) {
            grid-column: span 9;
        }
    }

    &_slideshow {
        @include flex(inline-flex,flex-start,flex-start,row,nowrap);
        white-space: nowrap;
        @include transi(.35s);
        transform:translateX(calc(-100% / var(--slidesNumber) * var(--currentSlide)));

        @media (min-width:$screen-sm) {
            align-items: stretch;
        }
    }

    &_slide {
        @include flex(flex,flex-start,flex-start,column);
        width:calc(100vw - 60px);
        white-space: normal;
        background:$white;
        border-radius:10px;
        padding:30px;
        margin-right: 30px;
        @include transi(.35s);
        will-change: opacity;

        &.prev {
            opacity:0;
            transform:translateX(60%);
        }

        @media (min-width:$screen-sm) {
            width:calc(58.333vw - 60px);
            margin-right: 20px;
        }
        
        @media (min-width:$screen-md) {
            width:calc((74.4 * (100vw - 13rem) / 100 / 2) - 10px);
        }
        
        @media (min-width:$screen-xl) {
            width:calc((74.4 * (100vw - 13rem) / 100 / 3) - 13px);
        }

        &_title {
            @extend %u-title--small;
            color:$dark;
        }

        &_stars {
            width:130px;
            height:auto;
            margin-top:15px;
        }

        &_text {
            margin-top:20px;
            border-top:solid 1px rgba($dark,.2);
            padding-top:15px;
        }
    }
}